<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>pyKVFinder Pocket Analysis</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1 class="mb-4">pyKVFinder Pocket Analysis</h1>
        <h4 class="mb-4">Units are in Angstroms</h4>
        <div class="row">
            <div class="col-md-6 mb-3">
                <div class="card">
                    <div class="card-header">Generated Files</div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">
                            <a href="{{ url_for('download_file', filename=results.results_toml.split('/')[-1]) }}">
                                Results TOML
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="{{ url_for('download_file', filename=results.output_pdb.split('/')[-1]) }}">
                                Output PDB
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="{{ url_for('download_file', filename=results.histograms_pdf.split('/')[-1]) }}">
                                Histograms PDF
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="{{ url_for('download_file', filename=results.excel_file.split('/')[-1]) }}">
                                Pocket Results Excel
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-md-6 mb-3">
                <div class="card">
                    <div class="card-header">Download Instructions</div>
                    <div class="card-body">
                        <p>Click on the links above to download the generated files from your pyKVFinder analysis:</p>
                        <ul>
                            <li><strong>Results TOML:</strong> Detailed analysis results</li>
                            <li><strong>Output PDB:</strong> Processed PDB file</li>
                            <li><strong>Histograms PDF:</strong> Visualization of cavity characteristics</li>
                            <li><strong>Pocket Results Excel:</strong> Tabulated cavity data</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <a href="/" class="btn btn-secondary mt-3">Back to Upload</a>
    </div>
  <footer class="flex-shrink-0 w-full text-center text-sm text-gray-600 bg-gray-100 border-t border-gray-200 py-3">
    <p class="mb-1">
      If you use data or visualizations generated with this tool for publications, posters, or presentations,  
      please cite the following publications and acknowledge Dr. Peter Stockinger for providing access to this web app.
    </p>
    <p class="mb-0.5 text-sm">
      da Silva Guerra et al. (2021). <em>pyKVFinder: an efficient and integrable Python package for biomolecular cavity detection and characterization in data science</em>. 
      <a href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/s12859-021-04519-4" target="_blank" class="text-indigo-500 hover:text-indigo-600 underline">Nature Methods</a>.
    </p>
    <div class="flex justify-center items-center space-x-2 text-gray-500">
      <span>Â© Dr. Peter Stockinger</span>
      <a href="https://www.linkedin.com/in/peter-stockinger/" target="_blank" rel="noopener noreferrer" class="hover:text-indigo-600">
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-4 h-4 inline-block" viewBox="0 0 24 24">
          <path d="M20.447 20.452h-3.554v-5.569c0-1.327-.025-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.94v5.666H9.351V9h3.414v1.561h.049c.476-.9 1.637-1.852 3.369-1.852 3.6 0 4.266 2.37 4.266 5.451v6.292zM5.337 7.433c-1.144 0-2.07-.928-2.07-2.07 0-1.145.926-2.07 2.07-2.07s2.07.925 2.07 2.07c0 1.142-.926 2.07-2.07 2.07zM6.814 20.452H3.861V9h2.953v11.452zM22.225 0H1.771C.792 0 0 .771 0 1.729v20.542C0 23.229.792 24 1.771 24h20.451C23.207 24 24 23.229 24 22.271V1.729C24 .771 23.207 0 22.225 0z"/>
        </svg>
      </a>
    </div>
  </footer>    
</body>
</html>
